# 📋 Snake Game - 요구사항 분석

> 생성일: 2026-01-21
> 스테이지: 01-brainstorm
> 프로젝트: snake-game

---

## 1. 기능적 요구사항 (Functional Requirements)

### FR-01: 게임 시작/종료
| ID | 요구사항 | 상세 | 우선순위 |
|----|---------|------|---------|
| FR-01-1 | 게임 시작 | 시작 버튼 클릭 또는 스페이스바로 게임 시작 | 필수 |
| FR-01-2 | 게임 종료 | 충돌 시 게임 오버 화면 표시 | 필수 |
| FR-01-3 | 재시작 | 게임 오버 후 재시작 버튼 제공 | 필수 |
| FR-01-4 | 일시정지 | P키 또는 버튼으로 일시정지/재개 | 중요 |

### FR-02: 뱀 조작
| ID | 요구사항 | 상세 | 우선순위 |
|----|---------|------|---------|
| FR-02-1 | 키보드 조작 | 방향키(↑↓←→)로 이동 방향 변경 | 필수 |
| FR-02-2 | 터치 조작 | 스와이프 또는 방향 버튼으로 조작 | 중요 |
| FR-02-3 | 연속 이동 | 뱀은 자동으로 현재 방향으로 이동 | 필수 |
| FR-02-4 | 반대 방향 제한 | 즉시 반대 방향 이동 불가 (자기 충돌 방지) | 필수 |

### FR-03: 먹이 시스템
| ID | 요구사항 | 상세 | 우선순위 |
|----|---------|------|---------|
| FR-03-1 | 먹이 생성 | 게임 보드 내 랜덤 위치에 먹이 생성 | 필수 |
| FR-03-2 | 먹이 획득 | 뱀 머리가 먹이와 충돌 시 획득 | 필수 |
| FR-03-3 | 성장 | 먹이 획득 시 뱀 길이 +1 | 필수 |
| FR-03-4 | 새 먹이 | 먹이 획득 후 즉시 새 먹이 생성 | 필수 |

### FR-04: 충돌 감지
| ID | 요구사항 | 상세 | 우선순위 |
|----|---------|------|---------|
| FR-04-1 | 벽 충돌 | 보드 경계 충돌 시 게임 오버 | 필수 |
| FR-04-2 | 자기 충돌 | 뱀이 자기 몸과 충돌 시 게임 오버 | 필수 |
| FR-04-3 | 장애물 충돌 | (선택) 장애물과 충돌 시 게임 오버 | 선택 |

### FR-05: 점수 시스템
| ID | 요구사항 | 상세 | 우선순위 |
|----|---------|------|---------|
| FR-05-1 | 점수 표시 | 현재 점수 실시간 표시 | 필수 |
| FR-05-2 | 점수 계산 | 먹이당 10점 (레벨에 따라 보너스) | 필수 |
| FR-05-3 | 최고 점수 | 최고 점수 저장 및 표시 | 중요 |
| FR-05-4 | 점수 저장 | localStorage에 하이스코어 저장 | 중요 |

### FR-06: 레벨 시스템
| ID | 요구사항 | 상세 | 우선순위 |
|----|---------|------|---------|
| FR-06-1 | 레벨 표시 | 현재 레벨 표시 | 중요 |
| FR-06-2 | 레벨업 조건 | 50점마다 레벨 증가 | 중요 |
| FR-06-3 | 속도 증가 | 레벨당 10% 속도 증가 | 중요 |
| FR-06-4 | 최대 레벨 | 레벨 10 이후 속도 고정 | 중요 |

---

## 2. 비기능적 요구사항 (Non-Functional Requirements)

### NFR-01: 성능
| ID | 요구사항 | 목표 | 측정 방법 |
|----|---------|------|----------|
| NFR-01-1 | 프레임레이트 | 60fps 유지 | Chrome DevTools |
| NFR-01-2 | 초기 로딩 | 2초 이내 | Lighthouse |
| NFR-01-3 | 입력 지연 | 16ms 이내 | 수동 테스트 |
| NFR-01-4 | 번들 크기 | 200KB 이하 | 빌드 분석 |

### NFR-02: 호환성
| ID | 요구사항 | 대상 | 비고 |
|----|---------|------|------|
| NFR-02-1 | 데스크톱 브라우저 | Chrome, Firefox, Safari, Edge 최신 2버전 | |
| NFR-02-2 | 모바일 브라우저 | iOS Safari, Android Chrome | |
| NFR-02-3 | 화면 크기 | 320px ~ 1920px | 반응형 |

### NFR-03: 접근성
| ID | 요구사항 | 상세 |
|----|---------|------|
| NFR-03-1 | 키보드 네비게이션 | 모든 UI 키보드로 접근 가능 |
| NFR-03-2 | 색상 대비 | WCAG AA 기준 충족 |
| NFR-03-3 | 포커스 표시 | 명확한 포커스 인디케이터 |

### NFR-04: 코드 품질
| ID | 요구사항 | 기준 |
|----|---------|------|
| NFR-04-1 | 타입 안전성 | TypeScript strict 모드 |
| NFR-04-2 | 린트 | ESLint 규칙 통과 |
| NFR-04-3 | 테스트 커버리지 | 80% 이상 |
| NFR-04-4 | 코드 포맷 | Prettier 적용 |

---

## 3. 기술적 제약조건

### 필수 기술 스택
- **프론트엔드**: React 18+
- **언어**: TypeScript 5+
- **빌드 도구**: Vite
- **렌더링**: Canvas API

### 금지 사항
- 외부 게임 엔진 (Phaser, PixiJS 등) 미사용
- jQuery 미사용
- 백엔드 서버 미사용 (정적 배포)

### 권장 사항
- Custom Hook으로 로직 분리
- 컴포넌트 단위 테스트 작성
- CSS Modules 또는 Tailwind CSS

---

## 4. 데이터 모델

### 게임 상태 (GameState)
```typescript
interface GameState {
  status: 'idle' | 'playing' | 'paused' | 'gameover';
  score: number;
  level: number;
  highScore: number;
}
```

### 뱀 (Snake)
```typescript
interface Position {
  x: number;
  y: number;
}

interface Snake {
  body: Position[];
  direction: 'UP' | 'DOWN' | 'LEFT' | 'RIGHT';
}
```

### 먹이 (Food)
```typescript
interface Food {
  position: Position;
  type: 'normal' | 'bonus';
}
```

### 게임 설정 (GameConfig)
```typescript
interface GameConfig {
  boardWidth: number;
  boardHeight: number;
  cellSize: number;
  initialSpeed: number;
  speedIncrement: number;
}
```

---

## 5. 사용자 시나리오

### 시나리오 1: 첫 게임 플레이
1. 사용자가 웹사이트 접속
2. "Start Game" 버튼 표시됨
3. 버튼 클릭 또는 스페이스바로 게임 시작
4. 뱀이 화면 중앙에서 시작
5. 방향키로 뱀 조작
6. 먹이를 먹으면 점수 증가
7. 벽 또는 자기 몸과 충돌하면 게임 오버
8. "Game Over" 화면과 최종 점수 표시
9. "Restart" 버튼으로 재시작

### 시나리오 2: 최고 점수 갱신
1. 게임 플레이 중 현재 점수가 최고 점수 초과
2. 화면에 "New High Score!" 표시
3. 게임 오버 시 최고 점수 localStorage에 저장
4. 다음 게임 시작 시 저장된 최고 점수 표시

### 시나리오 3: 모바일 플레이
1. 모바일 기기로 접속
2. 화면이 모바일 크기에 맞게 조정됨
3. 화면 하단에 방향 버튼 표시
4. 터치/스와이프로 뱀 조작
5. 세로 모드에서 최적화된 레이아웃

---

## 6. 인수 기준 (Acceptance Criteria)

### 게임 기본 기능
- [ ] 게임 시작 시 뱀이 화면 중앙에 나타난다
- [ ] 방향키 입력에 따라 뱀이 즉시 방향을 바꾼다
- [ ] 뱀이 먹이를 먹으면 길이가 1 증가한다
- [ ] 먹이를 먹으면 점수가 10점 증가한다
- [ ] 벽에 부딪히면 게임이 끝난다
- [ ] 자기 몸에 부딪히면 게임이 끝난다
- [ ] 게임 오버 후 재시작할 수 있다

### 추가 기능
- [ ] 50점마다 레벨이 1 증가한다
- [ ] 레벨이 오르면 뱀의 속도가 빨라진다
- [ ] 최고 점수가 브라우저에 저장된다
- [ ] P키를 누르면 일시정지된다
- [ ] 모바일에서 터치로 조작할 수 있다

### 품질 기준
- [ ] TypeScript 타입 에러가 없다
- [ ] ESLint 경고/에러가 없다
- [ ] 테스트 커버리지 80% 이상
- [ ] 60fps로 부드럽게 동작한다

---

## 📝 요약

| 카테고리 | 필수 | 중요 | 선택 |
|---------|------|------|------|
| 기능적 요구사항 | 12개 | 8개 | 2개 |
| 비기능적 요구사항 | 8개 | 3개 | 0개 |
| 총계 | 20개 | 11개 | 2개 |

**MVP 범위**: 필수 요구사항 20개 + 중요 요구사항 중 선택 5개
